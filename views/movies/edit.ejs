<%- include("../partials/header") %>

<h1>Edit Movie</h1>

<% if (errors.length) { %>
  <ul class="errors">
    <% errors.forEach(e => { %>
      <li><%= e %></li>
    <% }) %>
  </ul>
<% } %>

<form action="/movies/<%= movie._id %>?_method=PUT" method="POST">
  <label>Name:
    <input type="text" name="name" value="<%= movie.name %>">
  </label><br>

  <label>Description:<br>
    <textarea name="description" rows="4"><%= movie.description %></textarea>
  </label><br>

  <label>Year:
    <input type="number" name="year" value="<%= movie.year %>">
  </label><br>

  <label>Genres (comma separated):
    <input type="text" name="genres" value="<%= movie.genres.join(', ') %>">
  </label><br>

  <label>Rating (0-10):
    <input type="number" step="0.1" name="rating" value="<%= movie.rating %>">
  </label><br>

  <label>Poster URL:
    <input type="text" name="posterUrl" value="<%= movie.posterUrl || '' %>">
  </label><br>

  <button type="submit">Update Movie</button>
</form>

<%- include("../partials/footer") %>
